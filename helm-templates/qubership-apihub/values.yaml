#todo: add examples for values
#todo: add welcome comment


qubershipApihub:
  # todo
  version: ''
  # Optional. Possible values: INFO, WARN, DEBUG, etc. If not set - INFO is default
  logLevel: '' 
  # Mandatory. Default system access token (any string). The token will be provisioned automatically during bootstrap. Example: "xyz12345"
  accessToken: ''
  # Mandatory. APIHUB server URL in your environment. Example: "apihub.example.com"
  apihubUrl: '' 

########################
qubershipApihubBackend:
  image:
    repository: 'ghcr.io/netcracker/qubership-apihub-backend'  
    tag: 'latest'
  replicas: 1
  # Optional. Set to true to enable Prometheus metrics endpoints
  monitoring:
    enabled: '' 

  # todo
  resource:
    cpu:
      request: "100m"
      limit: "1"
    memory:
     limit: "512Mi"

  # todo 
  env:  
    # (todo: wording) Optional. Enables production mode - login under local apihub users is prohibited in this mode. In this mode only SAML auth is possible, so SAML integration related deploy parameters are mandatory in this case
    productionMode: 'true'  # disable at your own risk

    database:   
      # Mandatory. PG host address
      dbHost: '' 
      # Mandatory. PG port
      dbPort: '' 
      # Mandatory. Logical database in PG cluster for APIHUB. Manual pre-creation required
      dbName: '' 
      # Mandatory. User for APIHUB_POSTGRESQL_DB_NAME database
      dbUsername: ''  
      # Mandatory. Password for APIHUB_POSTGRESQL_USERNAME user.
      dbPassword: '' 

    # (todo: wording) jwtPrivateKey - Self generated private PKCS#8 private key in base64 encode format.
    jwtPrivateKey: ''

    # (todo: wording) ORIGIN_ALLOWED # Optional # TODO
    originAllowed: ''

    # (todo: wording)
    customPathPrefixes: ''

    # Optional. Default admin user login (example: x_apihub). If set - this admin user will be created automatically.
    adminEmail: '' 
    # Optional. Default admin user password (example: password)
    adminPassword: '' 

    samlIntegration:
      # Optional. SAML metadata URL. If set - enables SAML integration
      adfsMetadataUrl: '' 
      crt: ''
      key: ''

    businessParameters:
      # (todo: wording) EXTERNAL_LINKS # Optional # Links to be shown under (i) button in UI
      externalLinks: '' 
      # (todo: wording) DEFAULT_WORKSPACE_ID # Optional # Default workspace ID for Agent UI
      defaultWorkspaceId: ''
      # (todo: wording) RELEASE_VERSION_PATTERN # Optional # Regex pattern for releases names validation. Example: "^[0-9]{4}[.]{1}[1-4]{1}$"
      releaseVersionPattern: '*'
      # (todo: wording) PUBLISH_ARCHIVE_SIZE_LIMIT_MB # Optional # Limit for uploaded package size in order to avoid OOM
      publishArchiveSizeLimitMb: '50' 
      # (todo: wording) PUBLISH_FILE_SIZE_LIMIT_MB # Optional # Limit for uploaded file (inside package) size in order to avoid OOM
      publishFileSizeLimitMb: '15'
      # (todo: wording) SYSTEM_NOTIFICATION # Optional # If set - footer with this text is shown for alll APIHUB users in APIHUB UI. Designed for maintenance windows.
      systemNotification: '' 
      # (todo: wording) INSECURE_PROXY # Optional # Set to true to enable apihub playground work without authtorization.
      insecureProxy: 'FALSE' 
      # (todo: wording)
      allowedHosts: '' 

    ldap:
      # (todo: wording) Optional # LDAP server URL. Required for SAML integration for syncing user inf
      server: '' 
      # (todo: wording) Optional # LDAP User used for connecting to LDAP server
      user: ''
      # (todo: wording) Optional # Password for LDAP User
      password: ''
      baseDN: ''
      organizationUnit: ''
      searchBase: ''



    storageServer:
      # (todo: comments) 
      active: 'FALSE' 
      username: ''
      password: ''
      crt: ''
      url: ''
      bucketTame: ''
      storeOnlyBuildResult: '' 

  # Parameters for APIHUB Editor feature. Deprecated. Will be removed in future releases.
    editor:
      gitlabUrl: '' 
      clientId: '' 
      clientSecret: '' 

########################
qubershipApihubBuildTaskConsumer:
  image:
    repository: 'ghcr.io/netcracker/qubership-apihub-build-task-consumer' 
    tag: 'latest'
  replicas: 1  

  resource:
    cpu:
      request: "100m"
      limit: "1.25"
    memory:
     limit: "4200Mi"
     request: "750Mi"
  env:
    operationsBuildBatch: "16"

########################
qubershipApihubUi:
  image:
    repository: 'ghcr.io/netcracker/qubership-apihub-ui'  
    tag: 'latest'
  replicas: 1  
  resource:
    cpu:
      request: "30m"
      limit: "1"
    memory:
     limit: "64Mi"
     request: "64Mi"
  env:
    apihubBackendAddress: 'qubership-apihub-backend:8080'
    apihubNcServiceAddress: 'qubership-apihub-backend:8080'

  ingress:
    enabled: false

  # tls Ingress URL is used in APIHUB_URL ENV VAR on backend, so disabling its creation will make APIHUB deployment unable to work
  tlsIngress:
    enabled: true
    tlsSecret:
      certificate: ''
      certificateKey: ''
      



